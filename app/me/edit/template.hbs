<div class="row">
  <div class="medium-6 small-centered columns">
    <div class="page-heading">      
      <h1>Edit Profile</h1>
      <p class="text-center">
        Invest some time here. It'll do you good! A complete profile increases your chances of being noticed by industry peers.
      </p>                    
    </div>
  </div>

</div>
<div class="row">
  <div class="columns">
    <div class="row collapse box profile-tab">

      <div class="medium-3 columns">

        {{#zf-tabs class="vertical" id="edit-tabs"}}
        <li data-tab='personal' class="tabs-title {{active-tab 'personal' tab}}"><a href="#personal" aria-selected="true">Personal Particulars</a></li>
        <li data-tab='type' class="tabs-title {{active-tab 'type' tab}}"><a href="#type">Profile Type</a></li>
        <li data-tab='industry' class="tabs-title {{active-tab 'industry' tab}}"><a href="#industry">Business Industry</a></li>
        <li data-tab='occupindustry' class="tabs-title {{active-tab 'occupindustry' tab}}"><a href="#occupindustry">Occupational Industry</a></li>
        <li data-tab='snapshot' class="tabs-title {{active-tab 'snapshot' tab}}"><a href="#snapshot">Snapshot</a></li>
        <li data-tab='work' class="tabs-title {{active-tab 'work' tab}}"><a href="#work">Work History</a></li>
        <li data-tab='academia' class="tabs-title {{active-tab 'academia' tab}}"><a href="#academia">Academia</a></li>
        <li data-tab='language' class="tabs-title {{active-tab 'language' tab}}"><a href="#language">Languages</a></li>
        <li data-tab='interest' class="tabs-title {{active-tab 'interest' tab}}"><a href="#interest">Interests</a></li>
        {{/zf-tabs}}
      </div>
      <div class="medium-9 columns float-left">
        <div class="tabs-content vertical" data-tabs-content="edit-tabs">

          <div class="tabs-panel {{active-tab 'personal' tab}}" id="personal">
            {{partial 'me/edit/info'}}
          </div>
          <div class="tabs-panel {{active-tab 'type' tab}}" id="type">
            <h1>Profile Type</h1>
          </div>
          <div class="tabs-panel {{active-tab 'industry' tab}}" id="industry">
            <form class="form-occupational-industry">
              <div class="row collapse">
                <div class="columns medium-8">
                  <label for="">
                    Business Industry
                   {{dropdown-filter
                    items=industries 
                    selected=selectedIndustry
                    query='queryIndustries'
                    itemSelected='industrySelected'
                    template="partials/industry-filter"}}
                  </label>
                </div>
                <div class="columns medium-4">
                  <a class="picker" data-open="industryModal" {{action "setSelected" 'industry' }}>Use the Industry Picker</a>
                </div>
              </div>
              <div>
                <button class='button success' {{ action 'save' }}>Save Changes</button>
              </div>
            </form>
          </div>
          <div class="tabs-panel {{active-tab 'occupindustry' tab}}" id="occupindustry">
            <p>Occupational Industries are industries that you deal with as part of your job. We allow you to pick up 2 Occupational Industries on Brydge. See example below.</p>
            <p>If you think this isn't applicable to you, check the Not Applicable box.</p>
            <form class="form-occupational-industry">
              <div class="row collapse">
                <div class="columns medium-8">
                  <label for="">
                    Occupation Industry 1
                    {{dropdown-filter
                    items=industries 
                    selected=selectedOccupOne
                    query='queryIndustries'
                    itemSelected='occupOneSelected'
                    template="partials/industry-filter"}}
                  </label>
                </div>
                <div class="columns medium-4">
                <a class="picker" data-open="industryModal" {{action "setSelected" 'occupationOne' }}>Use the Industry Picker</a>

                </div>
              </div>

              <div class="row collapse">
                <div class="columns medium-8">
                  <label for="">
                    Occupation Industry 2 (optional)
                    {{dropdown-filter
                    items=industries 
                    selected=selectedOccupTwo
                    query='queryIndustries'
                    itemSelected='occupTwoSelected'
                    template="partials/industry-filter"}}
                  </label>
                </div>
                <div class="columns medium-4">
                  <a class="picker" data-open="industryModal" {{action "setSelected" 'occupationTwo' }}>Use the Industry Picker</a>   

                </div>
              </div>
              <div>
                <button class='button success' {{ action 'save' }}>Save Changes</button>
              </div>
            </form>

          </div>
          <div class="tabs-panel {{active-tab 'snapshot' tab}}" id="snapshot">
            {{partial 'me/edit/snapshot'}}
          </div>
          <div class="tabs-panel {{active-tab 'work' tab}}" id="work">
            <p>Your current job (title and employer) will be highlighted at the top of your profile. If you are currently self-employed, unemployed, on a sabbatical, or on a break, click here to pick one of the standard titles.</p>
            {{ profile-work-history items=experiences create="createWork" update="updateWork" delete="deleteWork" profile=profile }}
          </div>
          <div class="tabs-panel {{active-tab 'academia' tab}}" id="academia">
            {{ profile-academia items=educations}}
          </div>
          <div class="tabs-panel {{active-tab 'language' tab}}" id="language">
            {{ profile-language items=languages}}
          </div>
          <div class="tabs-panel {{active-tab 'interest' tab}}" id="interest">
            {{ profile-interest items=interests}}
          </div>


        </div>            
      </div>
    </div>
  </div>
</div>

{{#zf-reveal id="industryModal" overlay=true class="reveal-popup large"}}
  <h4>Industry</h4>
    <div class="content">        
      {{#zf-tabs class="hide" id="industry-tab"}}
        <li class="tabs-title is-active"><a href="#root">Root</a></li>
        {{#each categories as |item|}}
            <li class="tabs-title"><a href="#{{item.code}}">{{item.name}}</a></li>
            {{#each item.categories as |category|}}
              <li class="tabs-title"><a href="#{{category.code}}">{{category.name}}</a></li>
            {{/each}}
        {{/each}}  
      {{/zf-tabs}}
  
      <div data-tabs-content="industry-tab">
        <div class="tabs-panel is-active" id="root">
          <p>
            <h3>Sectors</h3>
          </p>
          <ul class="no-bullet">
            {{#each categories as |item|}}
              <li><a {{action "goto" item.code }}>{{item.name}}</a></li>
            {{/each}}
          </ul>
        </div>
        <form action="">
          {{#each categories as |item|}}
            <div class="tabs-panel" id="{{item.code}}">
              <a {{action "goto" "root" }}>Back</a>
              <p>
                <h3>{{item.name}}</h3>
              </p>
              <p>

                <ul class="no-bullet">

                {{#each item.categories as |item|}}

                  <li><a {{action "goto" item.code }}>{{item.name}}</a></li>
                {{/each}}
                </ul>
              </p>
            </div>

            {{#each item.categories as |category|}}
              <div class="tabs-panel" id="{{category.code}}">
                <a {{action "goto" item.code }}>Back</a>
                <p>
                  <h3>{{category.name}}</h3>
                </p>
                <p>          
                  <ul class="no-bullet">
                  {{#each category.industries as |industry|}}
                    <li>
                      <label for="{{industry.data.code}}">
                      {{action-radio name="picker" id=industry.data.code value=industry.data.code checked=selected.id action="onIndustrySelected" }} {{industry.data.subIndustry}}                          
                      </label>
                    </li>
                  {{/each}}
                  </ul>
                </p>
              </div>

            {{/each}}
          {{/each}}
        </form>
      </div>

      <ul class="list-inline">
        {{#each selectedIndustries as |item|}}
          <li><span class="label label-item"><a {{action "removeSelectedIndustry" item}}>{{fa-icon "close"}}</a> {{item.name}}</span></li>
        {{/each}}
      </ul>  
    </div>
    <div class="reveal-footer text-right">
      <div class="content">
        <button class="button success" {{action "onSelectDone"}} data-close>Done</button>
        <a class="button success" data-close>Cancel</a>
      </div>
    </div>
{{/zf-reveal}}